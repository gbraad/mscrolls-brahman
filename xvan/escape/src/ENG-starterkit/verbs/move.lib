
$VERB move
 PROLOGUE
   if not(testflag(o_actor.f_alive)) then
     if trigger(o_actor.t_talk_to_dead) then
       disagree()
     endif
   endif

   if not(equal(o_subject, %none)) then
     if testflag(o_subject.f_fixed) then
       printcr("[the] [o_subject] [o_subject.r_is] fixed in place.")
       disagree()

 "move"
   if equal(o_actor, o_player) then
     printcr("What do you want to move?")
   else
     printcr("What do you want [the] [o_actor] to move?")
   endif
   getsubject()

 "move [o_subject]"
   DISAMBIGUATION_RULES
     if not(testflag(o_subject.f_fixed)) then score(5) endif
   END_RULES

   printcr("In which direction do you want to move [the] [o_subject]?")
   getspec()

 "move [o_subject] to [dir]",
 "move [o_subject] [dir]"
   DISAMBIGUATION_RULES
     if not(testflag(o_subject.f_fixed)) then
       score(5)
   END_RULES

   print("That doesn't make sense, moving [the] [o_subject] [dir].")

 "move [o_subject] [prepos] [o_spec]"
   DISAMBIGUATION_RULES
     if not(testflag(o_subject.f_fixed)) then score(5) endif
   END_RULES

   printcr("Trying to move [the] [o_subject] [prepos] [the] [o_spec] accomplishes nothing.")

 DEFAULT
  printcr("I only understood you as far as willing to move something.")
  if testflag(o_player.f_verb_help) then
    printcr("")
    Printcr("Examples of syntaxes I understand are:")
    printcr("  'move'")
    printcr("  'move the crate'")
    printcr("  'move the crate north'")
    printcr("  'move the crate to the north'")
    printcr("(to turn off these help messages, type 'help')")

ENDVERB

